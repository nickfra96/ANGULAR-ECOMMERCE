<!-- Page Content -->


<div class="container">


  <div class="row">
    <div class="col-lg-3">
      <h1 class="my-4">EBuy eCommerce</h1>
      <h4>Categorie disponibili:</h4>
      <br>
      <div *ngFor="let a of articoli">
      </div>
      <h2 class="my-4" *ngIf="trovati"> <p class="text-danger">Articoli trovati: {{numArtTrovati}}</h2>
      <app-categorie></app-categorie>

        <div class="filter-group">
          <label>Cerca articolo per descrizione : </label>
          <input type="text" class="form-control" placeholder="Descrizione" [(ngModel)] = "filter"><br>
          <button type="button" class="btn btn-dark" (click)="refresh()">Cerca</button>
        </div>
      <br/>
      <button type="submit" class="btn-primary"(click)="addArt()">AGGIUNTI UN NUOVO ARTICOLO</button>


    </div>

    <!-- /.col-lg-3 -->



    <div class="col-lg-9">

      <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
          <div class="carousel-item active">
            <img class="d-block img-fluid" src="/assets/images/smartwatch.jpg" alt="First slide">
          </div>
          <div class="carousel-item">
            <img class="d-block img-fluid" src="/assets/images/smartphone.jpg" alt="Second slide">
          </div>
          <div class="carousel-item">
            <img class="d-block img-fluid" src="/assets/images/tablet.jpg" alt="Third slide">
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>

      <div class="alert alert-success" *ngIf="messaggio">
        <strong>Success!</strong> {{messaggio}} <!--messaggio che mi viene dato dal backend-->
      </div>

      <div class="row">

        <div class="col-lg-6 col-md-7 mb-5" *ngFor="let articolo of articoli | paginate: {itemsPerPage:righe,currentPage:pagina}">
          <div class="card h-100">
            <a href="#"><img class="card-img-top" src={{articolo.image}} alt=""/></a>
            <div class="card-body">
              <h4 class="card-title">
                <p class ="text-info">Codice interno: {{articolo.id}}</p>
              </h4>
              <h4 class="card-title">
                <p class ="text-primary">{{articolo.nome}}</p>
              </h4>
              <h5>{{articolo.prezzo}} €</h5>
              <h5>Quantità:{{articolo.quantita}}</h5>
              <h5>Categoria: {{articolo.categoria.categoria}}</h5>
              <h5>Descrizione:</h5>
              <p class="card-text">{{articolo.descrizione}}</p>
              <h5>Dettaglio articolo:</h5>


              <p class="card-text">
              <ul class="list-group list-group-flush">
              <div  *ngFor="let det of articolo.dettaglioArticolo">
                <li class="list-group-item"> CPU: {{det.cpu}}</li>
                <li class="list-group-item">Display: {{det.display}}</li>
                <li class="list-group-item">Sistema Operativo: {{det.so}}</li>
                <li class="list-group-item">Scheda video:  {{det.scheda_video}}</li>
                <li class="list-group-item">HD:  {{det.hd}}</li>
                <li class="list-group-item">Ram:  {{det.ram}}</li>
              </div>
              </ul>

            </div>
            <div class="card-footer" align="center">

              <button type="button" class="btn btn-warning" (click)="modifica(articolo.id)">Modifica</button>&nbsp;
              <button type="button" class="btn btn-danger" (click)="elimina(articolo.id)">Elimina</button>

            </div>
          </div>
        </div>
        <pagination-controls (pageChange)="pagina =  $event" previousLabel="Precedente" nextLabel="Successivo"></pagination-controls>

      </div>
      <!-- /.row -->

    </div>
    <!-- /.col-lg-9 -->
  </div>
  <!-- /.row -->
</div>
<!-- /.container -->
